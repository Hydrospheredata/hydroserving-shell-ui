<div class="max-w-5xl mx-auto my-12">
  <div class="font-bold text-gray-700 text-lg">Aggregated report</div>
  <div class="mb-10">
    <div class="flex text-sm font-light text-gray-700">
      <div class="pr-1">Generated for:</div>
      <div>batch_1.csv</div>
    </div>
  </div>

  <div class="flex mb-6">
    <ng-container *ngIf="report.summary.checks as checksSummary">
      <div class="summary" [ngClass]="'summary--' + checksSummary.grade">
        <div class="summary__title">Checks</div>
        <div class="summary__cell">
          <ng-container [ngSwitch]="checksSummary.percentOfFailedRecords">
            <div class="summary__status" *ngSwitchCase="0">Checks passed</div>
            <ng-container *ngSwitchDefault>
              <div class="summary__status">
                {{ checksSummary.percentOfFailedRecords }}%
              </div>
              <div class="summary__description">failed records</div>
              <div class="summary__opener" (click)="revealDetails('checks')">
                click to reveal
              </div>
            </ng-container>
          </ng-container>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="report.summary.suspicious as suspiciousSummary">
      <div class="summary" [ngClass]="'summary--' + suspiciousSummary.grade">
        <div class="summary__title">Suspicious records</div>
        <div class="summary__cell">
          <div class="summary__status">
            {{ suspiciousSummary.percentOfSuspiciousChecks }}%
          </div>
          <div class="summary__description">suspicious records</div>

          <div class="summary__opener" (click)="revealDetails('suspicious')">
            click to reveal
          </div>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="report.summary.drift as driftSummary">
      <div class="summary" [ngClass]="'summary--' + driftSummary.grade">
        <div class="summary__title">Data drift</div>
        <div class="summary__cell">
          <ng-container [ngSwitch]="driftSummary.drifted">
            <div class="summary__status" *ngSwitchCase="false">
              Drift not found
            </div>
            <ng-container *ngSwitchDefault>
              <div class="summary__status">Drifted</div>
              <div class="summary__opener" (click)="revealDetails('drift')">
                click to reveal
              </div>
            </ng-container>
          </ng-container>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="report.summary.overallDrift as driftSummary">
      <div class="summary" [ngClass]="'summary--' + driftSummary.grade">
        <div class="summary__title">Data drift</div>
        <div class="summary__cell">
          <ng-container [ngSwitch]="driftSummary.drifted">
            <div class="summary__status" *ngSwitchCase="false">
              Drift not found
            </div>
            <ng-container *ngSwitchDefault>
              <div class="summary__status">Drifted</div>
              <div
                class="summary__opener"
                (click)="revealDetails('overallDrift')"
              >
                click to reveal
              </div>
            </ng-container>
          </ng-container>
        </div>
      </div>
    </ng-container>
  </div>

  <div *ngIf="selectedDetails">
    <div class="font-bold text-gray-900">Details</div>
  </div>
</div>
